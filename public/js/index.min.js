function loadDATA(){mode=document.getElementById("mode").value,region=document.getElementById("region").value;var t,e=document.getElementsByClassName("table-data-annual"),a=document.getElementsByClassName("table-data-year");for(t=0;t<e.length;t++){var n=e[t].innerText||e[t].textContent,i=a[t].innerText||a[t].textContent;data.push(parseFloat(n)),years.push(parseInt(i))}data.pop()}function GenerateChart(){loadDATA();var t=document.getElementById("chart-data-list-heading");t.innerHTML="Data set for Visualization";for(var e=years.length-1,a=[],n=0,i=0;e>i;i++){var r=[],o=data[i];r.x=n+i,r.y=o,r.info="<strong>"+years[i]+"</strong>: "+o,r.amount=years[i]+": "+o,r.pointDivId="pt_x_"+r.x+"_y_"+r.y+"_Num_"+i,r.infoDivId="pt_Info__x_"+r.x+"_y_"+r.y+"_Num_"+i,r.Num=i,a.push(r)}_simpleChartJS.DrawChart(a,"chartBoard","chartList")}SimpleChartJS=function(){var t=30,e=10,a=10;return HighlightInfo=function(t,e){var a=document.getElementById(t);e?a.className+=" Highlighted ":a.className=a.className.replace("Highlighted","")},AddPointToList=function(t,e){var a=document.createElement("li");a.className="data-year-li",a.innerHTML=t.info,a.id=t.infoDivId,e.appendChild(a)},DrawPoint=function(t,e,a){var n=document.createElement("div");n.id=t.pointDivId,n.style.left=t.x+"px",n.style.top=t.y+"px",n.className="ChartPoint",n.title=t.amount,n.onmouseover=function(){HighlightInfo(t.infoDivId,!0)},n.onmouseout=function(){HighlightInfo(t.infoDivId,!1)},isValid(a)&&AddPointToList(t,a),e.appendChild(n)},DrawLine=function(t,e,a,n){if(t.y<e.y){var i=t.y;t.y=e.y,e.y=i,i=t.x,t.x=e.x,e.x=i}var r,o=Math.abs(t.x-e.x),l=Math.abs(t.y-e.y),s=(t.x+e.x)/2,d=(t.y+e.y)/2,y=Math.sqrt(o*o+l*l),m=s-y/2,c=d;o=y/2,r=Math.abs(s-m),l=Math.sqrt(Math.abs(t.x-m)*Math.abs(t.x-m)+Math.abs(t.y-c)*Math.abs(t.y-c));var u=(l*l-o*o-r*r)/(2*o*r),h=Math.acos(u),f=180*h/Math.PI,g="";n&&(g="AxisLine");var v=document.createElement("div");v.className="ChartLine "+g,v.style.width=y+"px",v.style.webkitTransform="rotate("+f+"deg)",v.style.MozTransform="rotate("+f+"deg)",v.style.msTransform="rotate("+f+"deg)",v.style.OTransform="rotate("+f+"deg)",v.style.transform="rotate("+f+"deg)",v.style.top=c+5+"px",v.style.left=m+5+"px",v.id="line_between_"+t.Num+"_and_"+e.Num,a.appendChild(v)},DrawAxis=function(e){var n=document.getElementById("chartBoard"),i=n.getBoundingClientRect(),r=e[e.length-1].x*t,o={x:-a,y:0},l={x:r+a,y:0};DrawLine(o,l,n,!0),console.log(i);var s={x:r/2,y:0},d={x:r/2,y:-i.bottom/7-a};DrawLine(s,d,n,!0)},parsePoint=function(a){var n=cloneObject(a);return n.x*=t,n.y*=e,n},cloneObject=function(t){var e={};for(var a in t)"object"==typeof t[a]&&null!=t[a]?e[a]=cloneObject(t[a]):e[a]=t[a];return e},clearBoard=function(t,e){t.innerHTML="",isValid(e)&&(e.innerHTML="")},isValid=function(t){return""!=t&&void 0!=t&&null!=t?!0:!1},DrawChart=function(t,e,a){if(isValid(e)){var n,i=document.getElementById(e);if(isValid(i)){isValid(a)&&(n=document.getElementById(a)),clearBoard(i,n);for(var r=0;r<t.length;r++){var o=parsePoint(t[r]);if(o.y>1e3&&(o.y=o.y/100),o.y=-o.y,DrawPoint(o,i,n,!1),r>0){var l=parsePoint(t[r-1]);l.y>1e3&&(l.y=l.y/100),l.y=-l.y,DrawLine(o,l,i)}}}DrawAxis(t)}},{DrawChart:function(t,e,a){if(isValid(e)){var n,i=document.getElementById(e);if(isValid(i)){isValid(a)&&(n=document.getElementById(a)),clearBoard(i,n);for(var r=0;r<t.length;r++){var o=parsePoint(t[r]);if(o.y>1e3&&(o.y=o.y/100),o.y=-o.y,DrawPoint(o,i,n,!1),r>0){var l=parsePoint(t[r-1]);l.y>1e3&&(l.y=l.y/100),l.y=-l.y,DrawLine(o,l,i)}}}DrawAxis(t)}}}};var _simpleChartJS=new SimpleChartJS,data=[],years=[],mode,region;